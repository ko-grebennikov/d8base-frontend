<ion-content class="ion-margin-top" (keydown.enter)="send()">
    <ion-list class="d8b-container height100">

        <div class="chat-container chat-flex-container">
            <div class="messages-area">
                <div *ngFor="let message of (messages$|async)">
                    <ion-row class="width100" *ngIf="message.sender !== currentUserId && currentUserId">
                        <div class="message-container">
                            <div class="received-message message">
                                <div class="message-text">
                                    {{message.body}}
                                </div>
                            </div>
                            <div class="timeline timeline-received">
                                {{timeFromDatetime(message.created)}}
                            </div>
                        </div>
                    </ion-row>
                    <ion-row class="width100 ion-justify-content-end" *ngIf="message.sender === currentUserId && currentUserId">
                        <div class="message-container">
                            <div class="sent-message message">
                                <div class="message-text">
                                    {{message.body}}
                                </div>
                            </div>
                            <div class="timeline timeline-sent width100">
                                {{timeFromDatetime(message.created)}}
                                <ion-icon class="checkmark" color="{{getCheckmarkColor(message)}}" name="checkmark-done-outline"></ion-icon>
                            </div>
                        </div>
                    </ion-row>
                </div>
            </div>
            <div class="type-area">
                <ion-row class="ion-justify-content-center ion-align-items-center">
                    <ion-col size="11">
                        <ion-item class="ion-item-bordered border-radius24">
                            <ion-textarea [(ngModel)]="message" name="message"></ion-textarea>
                        </ion-item>
                    </ion-col>
                    <ion-col size="1" class="ion-justify-content-end ion-align-items-end">
                        <ion-button (click)="send()" color="secondary">send</ion-button>
                    </ion-col>
                </ion-row>
            </div>
        </div>

    </ion-list>
</ion-content>
